package com.example.testapp.server;import com.example.testapp.dto.ImageResponse;import com.example.testapp.entity.Image;import com.example.testapp.repo.ImageRepo;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Service;import org.springframework.web.multipart.MultipartFile;import java.io.IOException;@Servicepublic class ImageService {    @Autowired    private ImageRepo imageRepo;    public void uploadImage (MultipartFile file, String username) throws IOException {        Image image = new Image();        image.setName(file.getOriginalFilename());        image.setData(file.getBytes());        image.setUsername(username);        imageRepo.save(image);    }    public byte[] getImage (int id) {        Image image = imageRepo.findById(id).orElse(null);        return image.getData();    }    public Image getAll (int id) {       return imageRepo.findById(id).orElse(null);    }    public ImageResponse getAllData( int id ) {        Image image = imageRepo.findById(id).orElse(null);        if ( image != null) {            return new ImageResponse(image.getId(), image.getName(), image.getUsername());        } else {            return null;        }    }}